{{ ansible_symlink("grub.cfg-" ~ hex_ip, "grub.cfg-" ~ item.type ~ item.index ~ "." ~ common.domain) }}
 
set timeout=10
set default=0
 
menuentry "Boot from local drive" {
    echo 'Attempting to boot from first hard disk...'
    exit
}
 
menuentry "Live System" {
    echo 'Loading rhcos-live-kernel-x86_64_010524 ...'
    linuxefi rhcos-live-kernel-x86_64_010524 coreos.live.rootfs_url=http://10.127.12.53:8080/rhcos/rhcos-live-rootfs.x86_64_010524.img ignition.config.url=http://10.127.12.53:8080/rhcos/ignition-config.ign ignition.firstboot ignition.platform.id=metal rd.neetnet=1
    echo 'Loading rhcos-live-initramfs.x86_64_010524.img ...'
    initrdefi rhcos-live-initramfs.x86_64_010524.img
}
 
menuentry "Install Openshift Node - worker" {
    echo 'Loading rhcos-live-kernel-x86_64_010524 on worker ...'
    linuxefi rhcos-live-kernel-x86_64_010524 coreos.live.rootfs_url=http://10.127.12.53:8080/rhcos/rhcos-live-rootfs.x86_64_010524.img coreos.inst.install_dev=/dev/sda coreos.inst.ignition_url=http://10.127.12.53:8080/ignition/worker.ign ignition.config.url=http://10.127.12.53:8080/rhcos/ignition-config.ign ignition.firstboot ignition.platform.id=metal --insecure --insecure-ignition rd.neetnet=1 bond=bond0:enp97s0f0,enp161s0f0:mode=active-backup,primary=enp97s0f0,miimon=100 ignition.firstboot ignition.platform.id=metal ip=10.127.12.66::10.127.12.1:255.255.252.0:ocvdc1worker6.ocvdc1.itservices.local:bond0:none nameserver=10.127.12.53 nameserver=10.125.122.34
    echo 'Loading rhcos-live-initramfs.x86_64_010524.img ...'
    initrdefi rhcos-live-initramfs.x86_64_010524.img
}
